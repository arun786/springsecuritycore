# Step by Step Spring Security

## Basic Configuration for the rest API

### Step 1 :

   is to add a dependency in build.gradle

    implementation 'org.springframework.boot:spring-boot-starter-security'
 

### Step 2 :

Add few records in the h2 database

    package com.arun.springsecuritycore.bootstrap;
    
    import com.arun.springsecuritycore.domain.Student;
    import com.arun.springsecuritycore.model.StudentDomain;
    import com.arun.springsecuritycore.repository.StudentRepository;
    import org.springframework.beans.factory.annotation.Autowired;
    import org.springframework.boot.CommandLineRunner;
    import org.springframework.stereotype.Repository;
    
    /**
     * @author arun on 8/29/20
     */
    
    @Repository
    public class StudentLoader implements CommandLineRunner {
    
        private final StudentRepository studentRepository;
    
        @Autowired
        public StudentLoader(StudentRepository studentRepository) {
            this.studentRepository = studentRepository;
        }
    
        @Override
        public void run(String... args) {
            for (int i = 0; i < 10; i++) {
                StudentDomain studentDomain = new StudentDomain()
                        .setAge(10)
                        .setName("Arun" + (i + 1))
                        .setStandard("1");
                studentRepository.save(studentDomain);
            }
        }
    }


### Step 3:

In application.yml file

    server:
      port: 12000
    
    
    spring:
      h2:
        console:
          enabled: true
      datasource:
        url: jdbc:h2:mem:testdb
        driver-class-name: org.h2.Driver
        username: sa
        password: password
      jpa:
        database-platform: org.hibernate.dialect.H2Dialect
        
    

## Basic Authentication where we add a dependency in build.gradle file

    implementation 'org.springframework.boot:spring-boot-starter-security'
    
    This generates a uuid when the server starts.
    
    user name : user 
    password : uuid generated by the server
    

## Basic Authentication where we add a custom user name and password in application.yml

    spring:
      profiles: basic
      security:
        user:
          name: student
          password: dXNlcjo2N2VlM2IzZC1iODRmLTQxYzgtOWUxMS01ZTg3ZjAwNTE3MWY=
          
          

## Spring boot application, where the secured api is called by another rest api

[Client call](https://github.com/arun786/springsecuritycoreclient/blob/master/README.md) 
    

    
    
